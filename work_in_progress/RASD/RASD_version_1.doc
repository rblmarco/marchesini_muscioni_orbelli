<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="http://www.nongnu.org/elyxer/">
<meta name="create-date" content="2016-11-13">
<link rel="stylesheet" href="http://elyxer.nongnu.org/lyx.css" type="text/css" media="all">
<title>Requirements Analysis and Specifications Document</title>
</head>
<body>
<div id="globalWrapper">
<div class="Unindented">
<div class="float">
<div class="figure">
<div class="center">
<img class="embedded" src="images/front_page/Logo_polimi_grande.png" alt="figure images/front_page/Logo_polimi_grande.png">

</div>

</div>

</div>

</div>
<h1 class="title">
<span class="huge">Requirements Analysis and Specifications Document</span>
</h1>
<h2 class="author">
Guido Muscioni (mat. 876151)<br>
Marco Orbelli (mat. 876649)<br>
Paola Marchesini (mat. 876541)
</h2>
<h2 class="Date">
<span class="phantom">x</span>
</h2>
<div class="Unindented">
<p><br>
</p>

</div>
<div class="Indented">
<div class="fulltoc">
<div class="tocheader">
Table of Contents
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Section-1">Section 1: Introduction</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsection-1.1">Subsection 1.1: Purpose</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-1.2">Subsection 1.2: Document Conventions</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-1.3">Subsection 1.3: Intended Audience And Reading Suggestions</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-1.4">Subsection 1.4: Product Scope</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-1.5">Subsection 1.5: References</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Section-2">Section 2: Overall Description</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsection-2.1">Subsection 2.1: Product Perspective</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsubsection-2.1.1">Subsubsection 2.1.1: User interface</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-2.2">Subsection 2.2: Product functions</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-2.3">Subsection 2.3: User characterics</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-2.4">Subsection 2.4: Constraints</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsubsection-2.4.1">Subsubsection 2.4.1: Regulatory policies</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-2.4.2">Subsubsection 2.4.2: Hardware requirements</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-2.4.3">Subsubsection 2.4.3: Interfacing with other systems</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-2.4.4">Subsubsection 2.4.4: Parallel operation</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-2.5">Subsection 2.5: Assumptions and dependencies</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Section-3">Section 3: Specific requirements</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsection-3.1">Subsection 3.1: Use Case diagrams</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.1.1">Subsubsection 3.1.1: User</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.1.2">Subsubsection 3.1.2: Employee</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-3.2">Subsection 3.2: Sequence diagrams</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.2.1">Subsubsection 3.2.1: Activity diagrams</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.2.2">Subsubsection 3.2.2: State chart diagrams</a>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-3.3">Subsection 3.3: Activity diagrams</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-3.4">Subsection 3.4: State chart diagrams</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsection-3.5">Subsection 3.5: User interface</a>
</div>
<div class="tocindent">
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.5.1">Subsubsection 3.5.1: Website</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.5.2">Subsubsection 3.5.2: Mobile application</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Subsubsection-3.5.3">Subsubsection 3.5.3: Screen of the car</a>
</div>
</div>
</div>
<div class="toc">
<a class="Link" href="#toc-Section-4">Section 4: Alloy</a>
</div>
<div class="toc">
<a class="Link" href="#toc-Section-5">Section 5: Appendices</a>
</div>
</div>

</div>
<p><br>
</p>

</div>
<h1 class="Section">
<a class="toc" name="toc-Section-1">1</a> Introduction
</h1>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-1.1">1.1</a> Purpose
</h2>
<div class="Unindented">
The aim of the project is to develop a digital system for an electric car-sharing company, that is called PowerEnjoy. There are not previous system so that document will describe the requirements that deal with all the system that the customer wants.
</div>
<div class="Indented">
The users of PowerEnjoy system are:
</div>
<ul>
<li>
Client;
</li>
<li>
Employee.
</li>

</ul>
<div class="Unindented">
Both of these users are going to have unique credentials in order to use the system, so they must be registered. 
</div>
<div class="Indented">
The clients will use this system to reserve and use cars of PowerEnjoy company.
</div>
<div class="Indented">
The employees will use that system in order to know what cars need help.
</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-1.2">1.2</a> Document Conventions
</h2>
<ul>
<li>
Headquarter: it is the head office of Power Enjoy Society. There are both call centre and employees who deal with taking care of cars.
</li>
<li>
Emergency number: number labeled in the car that the user can call in case of any emergency. 
</li>
<li>
Call center: a large office in the Headquarter in which a Power Enjoy’s employees provide information or service to its customers by phone when they call the emergency number. 
</li>
<li>
Car: it is an electric car registered in the Power Enjoy Company. 
</li>
<li>
User: he/she is a client of the service. 
</li>
<li>
All Credentials: these are all information about the user that the system needs. The information contains name, last name, social security number, home address, email and drive license number. 
</li>
<li>
Login Credentials : these are email and password that the user has to provide at the login phase.
</li>
<li>
Check message: is the message that the system sends to the user if he/she fills out the form, during the registration phase, with information that are not correct.
</li>
<li>
Reservation message: is the message that the system send to the user who has just reserved a car.
</li>
<li>
State: is the state of the car which includes the level of battery, position and the number of passengers. If the vehicle is reserved or used the state will be associated with the respective user. 
</li>
<li>
Special Parking Areas : these are special areas with plugs for the car. 
</li>
<li>
Safe Areas: these are the area that determinate the boundary domain of our service. 
</li>
<li>
Unsafe Areas: all the areas that are not safe / this term includes everything that is not in the safe areas. 
</li>
<li>
Unsafe fine: the fine that the user has to pay if he/she left the car in an unsafe area. 
</li>
<li>
Time Expire: the period of time from reservation that the user has to get to the car without paying the expire time fine. 
</li>
<li>
Expire time fine: fine that the user has to pay if, after an hour from the reservation, he/she doesn’t reach the car. 
</li>
<li>
Money saving option: if the user enables the money saving option, he/she can input his/her final destination and the system provides information about the station where to leave the car to get a discount. This station is determined to ensure a uniform distribution of cars in the city and depends both on the destination of the user and on the availability of power plugs at the selected station.
</li>
<li>
Final destination: the destination that the user enters in the navigator once he/she has hired a car.
</li>
<li>
Symbolic amount: money that the user has to pay once he/she registered, the value is of one cent .
</li>
<li>
Money saving option: if the user enables the money saving option, he/she can input his/her final destination and the system provides information about the station where to leave the car to get a discount. This station is determined to ensure a uniform distribution of cars in the city and depends both on the destination of the user and on the availability of power plugs at the selected station.
</li>
<li>
Types of discount:<ul>
<li>
If the system detects the user took at least two other passengers onto the car, the system applies a discount of 10% on the last ride.
</li>
<li>
If a car is left with no more than 50% of the battery empty, the system applies a discount of 20% on the last ride.
</li>
<li>
If a car is left at special parking areas where they can be recharged the system applies a discount of 30% on the last ride.
</li>

</ul>

</li>
<li>
Battery level:<ul>
<li>
Full battery level
</li>
<li>
High battery level
</li>
<li>
Low battery level
</li>
<li>
Critical battery level
</li>

</ul>

</li>

</ul>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-1.3">1.3</a> Intended Audience And Reading Suggestions
</h2>
<div class="Unindented">
A chi verrà rivolto il documento
</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-1.4">1.4</a> Product Scope
</h2>
<div class="Unindented">
The aim of the softwar is to deveolp a system which will satisfy these goals:
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-1"></a>Employee
</div>
<ul>
<li>
[G1] Allows the employee to log in in the system, by app or website.
</li>
<li>
[G2] Allow the employee to put the car in unavailable mode.
</li>
<li>
[G3] Allow the employee to know what car he/she has to take care.
</li>

</ul>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-2"></a>User
</div>
<ul>
<li>
[G1]   Allows user to create an account.
</li>
<li>
[G2]   Allows user to log in in the system, by application or website.
</li>
<li>
[G3]   Allow user to modify his/her credentials.
</li>
<li>
[G4]   Allows user to look for cars nearby.
</li>
<li>
[G5]   Allows user to reserve a car.
</li>
<li>
[G6]   Allow user to send a request for opening the car.
</li>
<li>
[G7]   Allow user to enable the money saving option.
</li>
<li>
[G8]   Allow user to finish his/her ride and visualize the information about it.
</li>
<li>
[G9]   Allow user to view the special parking area in the map.
</li>
<li>
[G10] Allows user to pay for the ride.
</li>

</ul>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-1.5">1.5</a> References
</h2>
<div class="Unindented">
Documenti di riferimento
</div>
<h1 class="Section">
<a class="toc" name="toc-Section-2">2</a> Overall Description
</h1>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-2.1">2.1</a> Product Perspective
</h2>
<div class="Unindented">
The software is a stand-alone system that does not extend or takes part in any nowdays software. The access to the sofware can be performed by the Website and the mobile application.
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-2.1.1">2.1.1</a> User interface
</h3>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-3"></a>Website
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-2"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/websitehomepage.png" alt="figure images/mockup/websitehomepage.png">

</div>
<div class="caption">
Figure 2 Website, Home page
</div>

</div>

</div>

</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-3"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/lookforcar.png" alt="figure images/mockup/lookforcar.png">

</div>
<div class="caption">
Figure 3 Website, Look for car nearby
</div>

</div>

</div>

</div>
<div class="Indented">
<span class="unknown">\newgeometry</span>top=1cm
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-4"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/reserveacar.png" alt="figure images/mockup/reserveacar.png">

</div>
<div class="caption">
Figure 4 Website, Reserve a car
</div>

</div>

</div>

</div>
<div class="Indented">
<span class="unknown">\restoregeometry</span>
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-5"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/websiteemployee.png" alt="figure images/mockup/websiteemployee.png">

</div>
<div class="caption">
Figure 5 Website, Employee page with list
</div>

</div>

</div>

</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-4"></a>Mobile application
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<span class="unknown">\newgeometry</span>top=1cm
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-6"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/export2.png" alt="figure images/mockup/export2.png">

</div>
<div class="caption">
Figure 6 Application, Login an Look for car nearby
</div>

</div>

</div>

</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-7"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/export.png" alt="figure images/mockup/export.png">

</div>
<div class="caption">
Figure 7 Application, Look for car nearby
</div>

</div>

</div>

</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-8"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/export3.png" alt="figure images/mockup/export3.png">

</div>
<div class="caption">
Figure 8 Application, Reserve a car and Open a car
</div>

</div>

</div>

</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-9"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/mockup/export4.png" alt="figure images/mockup/export4.png">

</div>
<div class="caption">
Figure 9 Application, Employee page and List
</div>

</div>

</div>

</div>
<div class="Indented">
<span class="unknown">\restoregeometry</span>
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-5"></a>Screen of car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-10"> </a><div class="figure">
<img class="embedded" src="images/mockup/screenofcar.png" alt="figure images/mockup/screenofcar.png">
<div class="center">
<div class="caption">
Figure 10 Screen of car, Welcome screen
</div>

</div>

</div>

</div>

</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-11"> </a><div class="figure">
<img class="embedded" src="images/mockup/screenofcar2.png" alt="figure images/mockup/screenofcar2.png">
<div class="center">
<div class="caption">
Figure 11 Screen of car, Termination of the ride 
</div>

</div>

</div>

</div>

</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-2.2">2.2</a> Product functions
</h2>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-6"></a>Functional requirements
</div>
<div class="Subparagraph">
Employee:
</div>
<ul>
<li>
[G1] Allows the employee to log in in the system, by app or website:<ul>
<li>
The system must be able to check if the credentials provided are correct.
</li>

</ul>

</li>
<li>
[G2] Allow the employee to put the car in unavailable mode.<ul>
<li>
The employee must be able to set the state of the car in unavailable mode, in order to take car of the car.
</li>
<li>
The employee must be able to release the car, to make it available by all users.
</li>

</ul>

</li>
<li>
[G3] Allow the employee to know what car he/she has to take care.<ul>
<li>
In the headquarters, the employee will receive a list of car which he/she has to take care and the daily colleague.
</li>
<li>
That list is continuously being update according to the daily activity delivered by the system.
</li>

</ul>

</li>

</ul>
<div class="Subparagraph">
User:
</div>
<ul>
<li>
[G1]   Allows user to create an account.<ul>
<li>
The user inserts his credentials into the specific section on the website or the application.
</li>
<li>
The system must verify the existence of the email account and then sends the password to the new user.
</li>

</ul>

</li>
<li>
[G2]   Allows user to log in in the system, by application or website.<ul>
<li>
The system must be able to check if the credentials provided are correct.
</li>

</ul>

</li>
<li>
[G3]   Allow user to modify his/her credentials.<ul>
<li>
The user must be able to modify the photo of his/her driving license.
</li>
<li>
The user must be able to modify his/her phone number.
</li>
<li>
The user must be able his/her mail address. 
</li>
<li>
The user must be able to modify his/her payment information.
</li>
<li>
The user must be able to modify his/her password.
</li>

</ul>

</li>
<li>
[G4]   Allows user to look for cars nearby.<ul>
<li>
The system must be able to know the position of the user who want to reserve a car.
</li>
<li>
The system must be able to send the positions of the cars parked nearby.
</li>
<li>
The user must be able to zoom in and zoom out the area which is visualized by the application to look for free cars.
</li>

</ul>

</li>
<li>
[G5]   Allows user to reserve a car.<ul>
<li>
The user must be able to verify the state of the chosen car.
</li>
<li>
The user must be able to visualize the way to reach the car.
</li>
<li>
The user must be able to verify if the reservation time expires.
</li>
<li>
The system must send a message to the phone number of the user. This message explaines how to open the car in case of troubles with the GPS or with the internet connection.
</li>
<li>
The user must be able to delete the reservation if he does not need the car anymore.
</li>
<li>
The system must be able to fine (with the &ldquo;Time expire fine&rdquo;) the user if he/she does not reach the car in time.
</li>

</ul>

</li>
<li>
[G6]   Allow user to send a request for opening the car.<ul>
<li>
The user can open the car with a button in the application.
</li>
<li>
The user can open the car answeriing to the message received when he reserved the car.
</li>
<li>
The system must verifies if the user is near the car.
</li>
<li>
If the conditions are verified, the system send to the car the opening command.
</li>

</ul>

</li>
<li>
[G7]   Allow user to enable the money saving option.<ul>
<li>
The user can activate this mode with a button on the screen.
</li>
<li>
The user can input the final destination.
</li>
<li>
The user can visualize the special parking area near his/her destination.
</li>
<li>
The user can select a special parking area.
</li>
<li>
The user can see the way for the selected location.
</li>

</ul>

</li>
<li>
[G8]   Allow user to finish his/her ride and visualize the information about it.<ul>
<li>
If the car has been parked in a safe area, the user can select the option of "Terminate ride".
</li>
<li>
The user must be able to see the final information about the ride, but not the possible discounts.
</li>

</ul>

</li>
<li>
[G9]   Allow user to view the special parking area in the map.<ul>
<li>
The user must be able to see the map of the special parking area during the ride.
</li>
<li>
The user must be able to select a specific parking area, and see the way to it.
</li>

</ul>

</li>
<li>
[G10] Allows user to pay for the ride.<ul>
<li>
The system has to be able to send, to the payment system, the payment credentials that the user provides during the registration phase.
</li>
<li>
The user has to be able to receive the confirmation of the payment, with the possible discounts.
</li>

</ul>

</li>

</ul>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-7"></a>Non-functional requirements
</div>
<div class="Unindented">
vari requisiti non funzionali, mockup ecc...
</div>
<ul>
<li>
When the user finishes his/her ride, he/she has 1 minute to plug the car. 
</li>
<li>
The system closes the car 20 seconds after the user came out from the vehicle. 
</li>

</ul>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-2.3">2.3</a> User characterics
</h2>
<div class="Unindented">
These are some usefull scenarios to understan in a better way the needs of an user.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-8"></a>Scenario 1
</div>
<div class="Unindented">
scenario di quello che si deve registrare
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-9"></a>Scenario 2
</div>
<div class="Unindented">
Yesterday Marco, that is a student at Politecnico di Milano, brought his scooter to a workshop to do the annual revision. Today he has a lecture at 9:30 am at his university, so he, who do not have a subscription for public service, decides to use a car of PowerEnjoy service, thus Marco enters the PowerEnjoy App, and looks for a car nearby. When he decides what car to rent, he reserve the car, and he starts to prepare himself because he knows that he has 1 hour before the reservation expires. Following the way that the application proposed, Marco arrives at the car and tap the button, which is visualized in the application, to open the car. He starts his ride to Politecnico and, once he arrives, he parks the car and stop it, to end the ride.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-10"></a>Scanario 3
</div>
<div class="Unindented">
Filippo usually go to work with the public transport, because he thinks that he does not have to buy a car in a big city like Milan, in fact Milan is full of other service that Filippo could use to move in the city. However, today the public transport society of Milan call a general strike and Filippo must go to work in another way. During his little breakfast, he decides to open his Laptop and go to the PowerEnjoy website. He clicks on the login button and he types his credentials. After that, he specifies his actual location and he look for a car nearby. When he finds it, he reserves the car and he turns off his Laptop. After ten minutes, Filippo is ready to go and he takes his smartphone to see the way to the reserved car in the PowerEnjoy application. Once arrived at the car he taps on the open button and wait the opening of the car. He starts his ride to work and, once he arrives, he parks the car and stop it, to end the ride. 
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-11"></a>Scanerio 4
</div>
<div class="Unindented">
Today Marco has to go to his grandfather, but his scooter is still in the workshop, so he has to take for another time the PowerEnjoy service. He opens the application, and look for a car nearby, when he finds it he decides to reserve the car. After that, he goes out from his home and he starts to walk in order to reach the car. Once arrived, Marco notice that his smartphone has a very slow internet connection, and sometimes he remains only with a signal that can allow him to make call or send SMS. He tries to tap the open button in the application, and in that moment, the application visualizes a message to make Marco know that he can open the car answering the SMS that the service sent to him when the reservation resolves successfully. Marco open the message application in his smartphone, he finds the message and he notice that he must answer with the identification code of the car, that is in the left part of the car. When he sends that message, the car opens and finally Marco goes to his grandfather. 
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-12"></a>Scenario 5
</div>
<div class="Unindented">
Filippo has to go to an important convention of the society where he works, so he needs a car to reach that place which is about 5 km out of the centre of Milan. He decided to reserve a PowerEnjoy car, so he opens the application and he does it. When he arrives to the car, he taps the open button on the application, but after few seconds the application answer that he cannot be located, and show four white square when he can type the code located to the left of the car, in order to show that he is near the car. Once he does it, the car opens his door and Filippo start his ride to the convention, that finishes when he parks and exits from the car. 
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-13"></a>Scenario 6
</div>
<div class="Unindented">
Paola, who is just exit from a pub, because there is no public bus at night, decides that is the right occasion to try the new electric car sharing that is called PowerEnjoy. She opens the specific application and, once she selects the car, based on her preferences, she reaches it, following the path visualized on the map of the app. When she gets in it, she sees on the screen of the car that there is an interesting option to save some money, named “Money saving option”. She selects it and inserts her destination. The system calculates automatically the recharges station nearby her destination and the ride starts. Once she is arrived at the recharge station selected before, she plugs the car and she receives a notification on the app, visualizing the final cost of her ride, including the discount.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-14"></a>Scenario 7
</div>
<div class="Unindented">
Caterina needs to go to the party of her university and she decides to reserve a car, using the PowerEnjoy application. Selected the nearest car, she reaches it and, once she gets in it, she selects the “Money saving option”. She already knows the way to go, so she does not insert her destination. Once she is arrived at destination, she plugs the car and she receives a notification on the app, visualizing the final cost of her ride, including discount.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-15"></a>Scenario 8
</div>
<div class="Unindented">
Anthony lives in Milan and, when some of his American friends organized a trip to visit him and the city, he decides to show them the old town centre and some characteristic places. Because Anthony knows that it is forbidden to go downtown with his car, he decides to use the PowerEnjoy application. Once selected the car, visualizing information about its state (battery, autonomy, place where it is parked etc.…), he reaches the car with his three friends. Started up the car, the sensors on the seats notice that there are more than two passengers, so the system is notified to give a discount of 10% at the end of the ride. Arrived to the destination, Anthony, tapping on the screen, terminates his ride and the screen notifies that he is going to have a discount due to the numbers of passengers. 
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-16"></a>Scenario 9
</div>
<div class="Unindented">
Today Guido has an important meeting with a society that is interested in the application of the new renewable energy. To share the principles of that new technology company he decides to try the service develop by the PowerEnjoy society, which allowed, with a simple subscription to its website, to use an electric car. After Guido registers in the system, he reserved a car near his home from the website. Reached the car, he starts his ride and, because the office of the society is near his home, he arrives at destination in about 10 minutes. The system detects that the car still has 80% of battery so, it applies 20% discount to the cost of the ride because the user has left more than 50% of the battery. Once comes back home, Guido sees on the website how much he spent, and he sees the discount of his ride as well.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-17"></a>Scenario 10
</div>
<div class="Unindented">
Paola decides to reserve a car to go to the train station to wait for one of her friends coming to Milan to look for a job. Because her friend Margherita has some baggage, she reserved an electric car, using the PowerEnjoy application. When she arrives at the station, she sees on the screen of the car that the parking area of the station is one of the “special parking area”. So, she immediately decides to park in this area, knowing that she can obtain a discount if she plugs the car. Plugged it, she goes to the right platform to wait for Margherita and she receives a notify from the app about the final fare with the 30% discount.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-18"></a>Scenario 11
</div>
<div class="Unindented">
It is Sunday morning and Marco needs to go to San Siro Stadium to watch the match between Milan against Inter. He is late, so he decides to reserve an electric car to drive in the preferential lane, avoiding the traffic. He opens the PowerEnjoy application and he reserves a car. Marco knows that near the stadium there is a “special parking area”, but when he arrives he notices that this area is closed due to security purposes. So, he is forced to park the car 3 km away from the special area and, because the initial level of battery was more than 70%, he pays the charges of 30% more in the cost of the ride.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-19"></a>Scenario 12
</div>
<div class="Unindented">
It is Sunday and Jack with his family decides to go to the hippodrome. They decide to use an electric car so Jack opens the PowerEnjoy applications and reserve it. He drives until the stadium, but, because of the traffic, the battery level goes down 20%. Marco has taken the car with a level battery better than 70% and he does not recharge the car. Therefore, when he finishes the ride, the system applies a fee, about 30% of the cost of the ride, to compensate for the cost required to charge the car on site.
</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-20"></a>Scenario 13
</div>
<div class="Unindented">
Paola goes to work and once she has arrived she logs in the web site using the company’s computer. The system creates a list of electric cars for Paola and her collegue, to make their work more efficient as possible. In actuak fact the list is composed by a set of nearby vehicles. Paola can see, for the rest of the day, both via web site and web application the list of vehicles that she and her collegue have to take care. At this point Paola and her partner take one company’s machine, and start their work, reaching the first car in the list. 
</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-2.4">2.4</a> Constraints
</h2>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-2.4.1">2.4.1</a> Regulatory policies
</h3>
<div class="Unindented">
The users must accept the &ldquo;License agreement terms and conditions&rdquo; to use the software that will be develop and to permit to PowerEnjoy company the use of general statistic over these data. The systems must require the authorization in order to treat with the sensible data that users will give in the registration phase. In order to receive the company’s newsletter the users must dive an additional permission.
</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-2.4.2">2.4.2</a> Hardware requirements
</h3>
<div class="Unindented">
The essential use of that system require:
</div>
<ul>
<li>
A computer with an available internet connection;
</li>
<li>
A mobile phone with an active number, that is capable to send and receive SMS.
</li>

</ul>
<div class="Unindented">
To use the mobile application:
</div>
<ul>
<li>
A smartphone with:<ul>
<li>
Android: KitKat (4.4) and later;
</li>
<li>
iOS: version 6 or later;
</li>
<li>
Windows Mobile: version 10 or later;
</li>

</ul>

</li>
<li>
An active number, with a plans that contains internet connection:<ul>
<li>
3G;
</li>
<li>
4G: not required, but recommended. 
</li>

</ul>

</li>
<li>
An amount of space in order to install the application.
</li>

</ul>
<div class="Unindented">
To use the system on a website:
</div>
<ul>
<li>
An up to date broswer.
</li>

</ul>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-2.4.3">2.4.3</a> Interfacing with other systems
</h3>
<ul>
<li>
Interface with PayPal system, following the rules describe in PayPal developer documentations. Fuelled by that requirements analysis, the PayPal service that fit better in that system is &ldquo;PayPal Pro&rdquo;, that gives all set of payment that the customer needs.
</li>
<li>
Interface with an SMS gateway, with SMS APIs owned by the SMS provider. That fact in order to send message tothe users of the system.
</li>

</ul>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-2.4.4">2.4.4</a> Parallel operation
</h3>
<div class="Unindented">
The server must support parallel request both from users and employees.
</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-2.5">2.5</a> Assumptions and dependencies
</h2>
<div class="Unindented">
We supposed that these properties hold in the analysed word:
</div>
<ul>
<li>
All the cars are already accessible by the system.
</li>
<li>
All the cars have already a way for recharge their battery, in special parking area and on site;
</li>
<li>
The safe areas are already defined;
</li>
<li>
The special parking areas are already defined;
</li>
<li>
All cars can park in all the parking available without pay any fine;
</li>
<li>
All cars contain a set of sensors that allow us to take all the information about the state of the car that we need, as the state of the battery, the number of passengers, and all other stuff that a normal auto contains;
</li>
<li>
All the users use the system in the respect of the law;
</li>
<li>
All the employees use the system in the respect of the law defined by the company;
</li>
<li>
There is an external company that deals with accident;
</li>
<li>
There are other employees, of our company, that deals with car parked in unsafe area;
</li>
<li>
If the user cannot open the car with the standar commands, at the headquarter, the operators have a special command to open cars.
</li>
<li>
All cars have a functional GPS connection that works without internet;
</li>
<li>
The fine must be applied only if the initial battery level was more than 70%;
</li>
<li>
Before the ride starts, the system keeps in memory the initial state of the car, to verify, at the end, the conditions for a discount;
</li>
<li>
The manufacturer of the car has already provided it with a touch screen; 
</li>
<li>
The manufacturer of the car has already provided it with a data connection;
</li>
<li>
There is a call center, deals with the emergency situation, localized in the headquarter;
</li>
<li>
The employees works in couple, because of safety law.
</li>

</ul>
<h1 class="Section">
<a class="toc" name="toc-Section-3">3</a> Specific requirements
</h1>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-3.1">3.1</a> Use Case diagrams
</h2>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.1.1">3.1.1</a> User
</h3>
<div class="Unindented">
<div class="float">
<a class="Label" name="Figure-12"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/use_case/Use case user.png" alt="figure images/use_case/Use case user.png">
<div class="caption">
Figure 12 Use Case - User (and human).
</div>

</div>

</div>

</div>

</div>
<div class="Subparagraph">
Create an account
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-1"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Create an account.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
Human.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The human has an internet connection.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The human opens the website or the app and he/she selects the option “Sign up”.
</li>
<li>
The human inserts all his/her credentials.
</li>
<li>
The system verifies the correctness of the credentials inserted.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The system sends the password to the mail address of the new user.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The system detects that the email address is wrong or does not exist so it does not send the password. The system redirects the human on the registration page, asking him to write correctly his credentials.
</li>
<li>
The PowerEnjoy staff detect that the driving license inserted is not valid, so the system sends an email to the new user, asking to take a better picture of his/her license.
</li>
<li>
The system does not successfully withdraw the symbolic amount using the payment information inserted. The system redirects the human on the registration page, asking to insert the payment information correctly.
</li>

</ul>

</td>

</tr>

</table>
<div class="caption">
Table 1 User, Use Case description - Create an account.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Login
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-2"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Login of the user.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user has already registered in the system.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The user must open the PowerEnjoy website or the application.
</li>
<li>
The user must click or tap the button “Sign in”.
</li>
<li>
The user inserts the email, which he/she has already used for register himself/herself, and his password.
</li>
<li>
The user must click/tap on the log button.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The system redirects the user to his/her personal page. The system does not visualize cars with a critical battery level.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user does not insert the correct login credentials. The system does not redirect him/her to his/her personal page but it requests to check if he/she has inserted the correct login credentials.
</td>

</tr>

</table>
<div class="caption">
Table 2 User, Use Case description - Login of the user.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Look for car nearby
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-3"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Look for car nearby.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user must be logged in the application or in the website.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The user must select the specific option (tapping on the phone or clicking with the mouse).
</li>
<li>
The user can insert his position manually if he/she does not have a GPS connection.
</li>
<li>
The user clicks or taps the option to start the research.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user visualizes correctly the cars nearby him/her position.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The system does not detect the position through the GPS, so it retries for 30 seconds. If the GPS connection is still unavailable, the system asks to the user to insert manually his/her position.
</li>
<li>
The system detects that the positions inserted manually by the user does not exist, so it asks to the user to write an existent location.
</li>
<li>
The system is not able to establish the position of the cars, so it shows an error message asking to try again.
</li>

</ul>

</td>

</tr>

</table>
<div class="caption">
Table 3 User, Use Case description - Look for car nearby.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Reserve a car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-4"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Reserve a car.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user has looked for a car nearby.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The user can visualize the state of the car;
</li>
<li>
The user selects one of the car near his/her position, tapping on the screen or clicking on it;
</li>
<li>
The user could decide to visualize the way to reach the car selected;
</li>
<li>
The user click or tap on the screen the reserve option to officialise it.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The system shows to the user the reservation time;
</li>
<li>
The system enables the option to delete the reservation;
</li>
<li>
The user receives the reservation message on his phone number.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
Another person has reserved the car that the user selected. The system shows a message to communicate the fact to the user, asking him if he/she wants to select another car.
</td>

</tr>

</table>
<div class="caption">
Table 4 User, Use Case description - Reserve a car.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Select the &ldquo;Money saving Option&rdquo;
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-5"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Select the “Money saving option”.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The user must have reserve a car;
</li>
<li>
The user must get into the car.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The user visualizes the screen in the car;
</li>
<li>
The user selects the “Money saving option” tapping on the screen;
</li>
<li>
The user can input the final destination and he/she could visualize the way to reach it;
</li>
<li>
The user can select a special parking area near his/her destination and he/she could visualize the way to reach it.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user confirms his/her choices and the system notifies on the screen that the “Money saving option” is enabled.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
The screen of the car is temporally unavailable. The user is forced to call the emergency number that he/she can find in the car, asking to the call center to enable the “Money saving option” for his/her ride, telling to the operator his choices about the option chosen.
</td>

</tr>

</table>
<div class="caption">
Table 5 User, Use Case description - Select the “Money saving option”.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Open the car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-6"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Open the car.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The user must have reserved a car.
</li>
<li>
The user must reach the car, and he/she can see it.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The system detects, thanks to the GPS, the position of the user;
</li>
<li>
If the system establishes that the user is near the car, it enables the button to open the car in the application;
</li>
<li>
If the user has reserved the car using the website, he/she could open the reservation message sent to him/she by the system when he has done the reservation;
</li>
<li>
The user execute the command to open the car, but the car does not open. The user call the emergency number written on the car. The operator at the call center verifies the correctness of the reservation and then he/she opens the car with a special command.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The system receives correctly the command to open the car and it opens it.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The user taps the button on the application, but there is no connection. In this case, the user is forced to open the message that the system sent to him/she when he reserved the car. He/she answers to this message, writing the code of the car. The system receives the message and it opens the car;
</li>
<li>
The user loses the signal of the GPS. In this case, the user is forced to open the message that the system sent to him/she when he/she reserved the car. He/she answers to this message, writing the code of the car. The system receives the message and it opens the car;
</li>
<li>
The user execute the command to open the car, but the car does not open. The user call the emergency number written on the car. The operator at the call center verifies the correctness of the reservation and then he/she opens the car with a special command.
</li>

</ul>

</td>

</tr>

</table>
<div class="caption">
Table 6 User, Use Case description - Open the car.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Finish the ride
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-7"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Finish the ride.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user must has opened a car.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The user parks the car in a safe area.
</li>
<li>
The system enables the option “Finish the ride” on the screen.
</li>
<li>
The user selects this option tapping on the screen of the car.
</li>
<li>
The system visualizes on the screen the final information of the ride, in particular the final fare (without including eventually discount) and the level of the battery.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user receives the bill of the ride through email.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The user parks the car in an unsafe area. In this case, the system puts the car unavailable and adds it to a list of car of an employee, in order to move it in a safe area. When the employee finishes his/her work the system gives to the user an “unsafe fine”.
</li>
<li>
The screen of the car is temporally unavailable. The user is forced to call the emergency number that he can find in the car, asking to the call centre operator to finish his/her ride.
</li>

</ul>

</td>

</tr>

</table>
<div class="caption">
Table 7 User, Use Case description - Finish the ride.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
View special parking area
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-8"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
View special parking area.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
User.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user must be logged in the system.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The user must select the specific option on the screen (tapping on the phone or clicking with the mouse);
</li>
<li>
The user can insert his position manually if he/she does not have a GPS connection;
</li>
<li>
The user click or tap the option to start the research.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The user correctly visualizes the special parking area near his/her position. The system visualizes only the special parking are which have some free plugs.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The system does not detect the position through the GPS, so it retries for 30 seconds. If the GPS still undetectable, the system asks to the user to insert manually his position;
</li>
<li>
The system detects that the position inserted manually by the user does not exist, so it asks to the user to write an existent location;
</li>
<li>
The system is not able to establish the positions of the special parking areas, so it shows an error message asking to try again.
</li>

</ul>

</td>

</tr>

</table>
<div class="caption">
Table 8 User, Use Case description - View special parking area.
</div>

</div>

</div>

</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.1.2">3.1.2</a> Employee
</h3>
<div class="Unindented">
<div class="float">
<a class="Label" name="Figure-13"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/use_case/Use case employee.png" alt="figure images/use_case/Use case employee.png">
<div class="caption">
Figure 13 Use Case - Employee
</div>

</div>

</div>

</div>

</div>
<div class="Subparagraph">
Login 
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-9"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Login.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
Employee.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The employee must work for the PowerEnergy society.
</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The employee must open the PowerEnjoy application or the website;
</li>
<li>
The employee must insert his ID and his password;
</li>
<li>
The employee must click the log-in button.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The website or the app redirects him to his personal page.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
The employee does not insert the correct ID or the correct password. The system does not redirect him/her to his/her personal space/page but it requests to check if he/she has insert the correct ID or the correct password.
</td>

</tr>

</table>
<div class="caption">
Table 9 Employee, Use Case description - Login.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Change availability of the car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-10"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Change availability of the car.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
Employee.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The employee must be logged in the system;
</li>
<li>
The car is in the employee’s list of cars;
</li>
<li>
The employee reaches the car.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
The employee puts it in unavailable mode;
</li>
<li>
The employee takes care of the car.
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The car is ready and the employee changes its state in available.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
The employee cannot put the car available because of serious damages of the car. He calls the headquarters in orders to communicate that he needs to bring the car at the workshop.
</td>

</tr>

</table>
<div class="caption">
Table 10 Employee, Use Case description - Change availability of the car.
</div>

</div>

</div>

</div>
<div class="Subparagraph">
Know cars that they have to take care
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Table-11"> </a><div class="table">
<table>
<tr>
<td align="center" valign="top">
Name
</td>
<td align="left" valign="top" style="width: 9cm;">
Know cars that they have to take care.
</td>

</tr>
<tr>
<td align="center" valign="top">
Actors
</td>
<td align="left" valign="top" style="width: 9cm;">
Employee.
</td>

</tr>
<tr>
<td align="center" valign="top">
Entry conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
<ul>
<li>
The employee is at work;
</li>
<li>
The employee is logged in the system.
</li>

</ul>

</td>

</tr>
<tr>
<td align="center" valign="top">
Flow of events
</td>
<td align="left" valign="top" style="width: 9cm;">
<ol>
<li>
In the headquarter, the system assigns to the employee a list of car that he must take care during the day;
</li>
<li>
This list is created in the personal page of the employee. 
</li>

</ol>

</td>

</tr>
<tr>
<td align="center" valign="top">
Exit conditions
</td>
<td align="left" valign="top" style="width: 9cm;">
The employee receives correctly the list of car that he must take care.
</td>

</tr>
<tr>
<td align="center" valign="top">
Exceptions
</td>
<td align="left" valign="top" style="width: 9cm;">
The employee does not visualize the list in his/her personal page, so he/she is forced to ask it to the general secretary of the headquarter.
</td>

</tr>

</table>
<div class="caption">
Table 11 Employee, Use Case description - Know cars that they have to take care.
</div>

</div>

</div>

</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-3.2">3.2</a> Sequence diagrams
</h2>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-21"></a>Login of the user
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-14"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/diagram_section_svg/Login sequence diagram.png" alt="figure images/diagram_section_svg/Login sequence diagram.png">

</div>
<div class="caption">
Figure 14 Sequence Diagrams - Login of the user.
</div>

</div>

</div>

</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-22"></a>Reservation and opening of the car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
This sequence diagram represent the scenario with these hypothesis:
</div>
<ul>
<li>
The user reserves a car using the PowerEnjoy application.
</li>
<li>
The user wants to visualize the way to reach the car.
</li>
<li>
The user open the car tapping on the application.
</li>

</ul>
<div class="Unindented">
<div class="float">
<a class="Label" name="Figure-15"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/diagram_section_svg/Reservation and reachinf of the car sequence diagram.png" alt="figure images/diagram_section_svg/Reservation and reachinf of the car sequence diagram.png">
<div class="caption">
Figure 15 Sequence Diagrams - Reservation and opening of the car (sequence diagrams).
</div>

</div>

</div>

</div>

</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.2.1">3.2.1</a> Activity diagrams
</h3>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-23"></a>Change availability of the car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-16"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/diagram_section_svg/Change avaibility of the car bpmn activity.png" alt="figure images/diagram_section_svg/Change avaibility of the car bpmn activity.png">

</div>
<div class="caption">
Figure 16 Activity Diagrams - Change availability of the car.
</div>

</div>

</div>

</div>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-24"></a>Selection of &ldquo;Money saving option&rdquo;
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-17"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/diagram_section_svg/Money saving option activity diagram.png" alt="figure images/diagram_section_svg/Money saving option activity diagram.png">

</div>
<div class="caption">
Figure 17 Activity Diagrams - Selection of &ldquo;Money saving option&rdquo;.
</div>

</div>

</div>

</div>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.2.2">3.2.2</a> State chart diagrams
</h3>
<div class="Paragraph">
<a class="toc" name="toc-Paragraph-25"></a>Phase of the car
</div>
<div class="Unindented">
<span class="hfill"> </span>
</div>
<div class="Indented">
 
</div>
<div class="Indented">
<div class="float">
<a class="Label" name="Figure-18"> </a><div class="figure">
<div class="center">
<img class="embedded" src="images/diagram_section_svg/Phase of the car state chart diagram.png" alt="figure images/diagram_section_svg/Phase of the car state chart diagram.png">

</div>
<div class="caption">
Figure 18 State Chart - Phase of the car.
</div>

</div>

</div>

</div>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-3.3">3.3</a> Activity diagrams
</h2>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-3.4">3.4</a> State chart diagrams
</h2>
<h2 class="Subsection">
<a class="toc" name="toc-Subsection-3.5">3.5</a> User interface
</h2>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.5.1">3.5.1</a> Website
</h3>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.5.2">3.5.2</a> Mobile application
</h3>
<h3 class="Subsubsection">
<a class="toc" name="toc-Subsubsection-3.5.3">3.5.3</a> Screen of the car
</h3>
<h1 class="Section">
<a class="toc" name="toc-Section-4">4</a> Alloy
</h1>
<div class="Unindented">
------------------------------------Position things--------------------
</div>
<div class="Indented">
sig Position{
</div>
<div class="Indented">
latitude: Int,
</div>
<div class="Indented">
longitude: Int
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
latitude &gt;=0
</div>
<div class="Indented">
latitude &lt;=3
</div>
<div class="Indented">
longitude &gt;=0
</div>
<div class="Indented">
longitude &lt;=5
</div>
<div class="Indented">
}
</div>
<div class="Indented">
//the positions are uniquely determinate by the place
</div>
<div class="Indented">
fact differentPosition{
</div>
<div class="Indented">
all p1, p2: Position| (p1!=p2)implies(p1.latitude != p2.latitude or p1.longitude != p2.longitude)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
------------------------------------Safe Areathings--------------------
</div>
<div class="Indented">
sig SafeArea{
</div>
<div class="Indented">
safePositions: some Position,
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact differentPositionInDifferentSafeArea{
</div>
<div class="Indented">
all s1,s2: SafeArea| all p: s1.safePositions| (s1 !=s2) implies ((p in s1.safePositions) and (p not in s2.safePositions))
</div>
<div class="Indented">
}
</div>
<div class="Indented">
//in our world there are always unsafe position
</div>
<div class="Indented">
fact positionConstraint{
</div>
<div class="Indented">
all s: SafeArea| some p: Position| p not in s.safePositions
</div>
<div class="Indented">
}
</div>
<div class="Indented">
---------------------------------Special Area things--------------------
</div>
<div class="Indented">
sig SpecialArea{
</div>
<div class="Indented">
specialPositions: some Position,
</div>
<div class="Indented">
plugs: Int,
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
plugs &gt;=0
</div>
<div class="Indented">
plugs &lt;=5
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact plugsConstarint{
</div>
<div class="Indented">
all s:SpecialArea| #(s.specialPositions) = s.plugs
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact specialAreaConstraint{
</div>
<div class="Indented">
all p: SpecialArea.specialPositions | (p in SafeArea.safePositions) &amp;&amp;
</div>
<div class="Indented">
(#(SpecialArea.specialPositions) &lt; #(SafeArea.safePositions))
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact differentPositionInDifferentSecialArea{
</div>
<div class="Indented">
all s1,s2: SpecialArea| all p: s1.specialPositions| (s1 !=s2) implies ((p in s1.specialPositions) and (p not in s2.specialPositions))
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------Car things--------------------
</div>
<div class="Indented">
//there are no less than two seats 
</div>
<div class="Indented">
sig Car{
</div>
<div class="Indented">
code: Int,
</div>
<div class="Indented">
seats: Int,
</div>
<div class="Indented">
state: one State,
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
code&gt;=0
</div>
<div class="Indented">
seats&gt;=2
</div>
<div class="Indented">
seats&lt;=5
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact indentificationByCode{
</div>
<div class="Indented">
all c1, c2: Car | (c1 != c2) implies (c1.code != c2.code)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isUsed[]{
</div>
<div class="Indented">
#(this.state.usedBy)=1
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isInSafe[]{
</div>
<div class="Indented">
one s: SafeArea| this.state.statePosition in s.safePositions
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isInSpecial[]{
</div>
<div class="Indented">
one s: SpecialArea| this.state.statePosition in s.specialPositions
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isAvailable[]{
</div>
<div class="Indented">
!(this.isUsed) and (this.state.batteryLevel &gt;1) and (this.isInSafe)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isNotAvailable[]{
</div>
<div class="Indented">
this.isUsed or this.state.batteryLevel &lt;1 or !(this.isInSafe)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred Car.isInList[l1:List]{
</div>
<div class="Indented">
this in l1.cars
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------State things--------------------
</div>
<div class="Indented">
sig State{
</div>
<div class="Indented">
batteryLevel: Int,
</div>
<div class="Indented">
phase: one Phase,
</div>
<div class="Indented">
passengers: Int,
</div>
<div class="Indented">
statePosition: one Position,
</div>
<div class="Indented">
usedBy: lone User
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
//per future implementazioni meglio passenges &gt; &lt; seats dell’auto
</div>
<div class="Indented">
passengers &gt;=0
</div>
<div class="Indented">
batteryLevel &gt;=0
</div>
<div class="Indented">
batteryLevel &lt;=3
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact numberOfState{
</div>
<div class="Indented">
#Car = #State
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact passengersConstraint{
</div>
<div class="Indented">
all c:Car| ((c.state.phase=used) implies (c.state.passengers&lt;=c.seats)) and((c.state.phase!=used) implies (c.state.passengers=0))
</div>
<div class="Indented">
}
</div>
<div class="Indented">
//this means that there are not cars in the same position
</div>
<div class="Indented">
fact differentPositionInCar{
</div>
<div class="Indented">
all c1,c2 : Car | (c1!=c2) implies (c1.state.statePosition != c2.state.statePosition)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------Phase things--------------------
</div>
<div class="Indented">
//these are the possible internal state of the car
</div>
<div class="Indented">
enum Phase {reserved, used, charge, free, parkUnsafeOrCharge}
</div>
<div class="Indented">
fact reservedPhase{
</div>
<div class="Indented">
all c: Car| (c.state.phase = reserved) iff (c.isInSafe and c.state.batteryLevel&gt;1 and c.isUsed and (c.state.phase!=used and c.state.phase!=charge and c.state.phase!=free and c.state.phase!=parkUnsafeOrCharge))// batteryLevel &gt;=1 usata
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact usedPhase{
</div>
<div class="Indented">
all c: Car| (c.state.phase = used) iff (c.isUsed and c.state.batteryLevel != 0 and (c.state.phase!=reserved and c.state.phase!=charge and c.state.phase!=free and c.state.phase!=parkUnsafeOrCharge)) //batteria &gt;0 e deve essere usata
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact chargePhase{
</div>
<div class="Indented">
all c: Car| (c.state.phase = charge) iff (!(c.isAvailable) and c.isInSpecial and (c.state.phase!=reserved and c.state.phase!=used and c.state.phase!=free and c.state.phase!=parkUnsafeOrCharge))// position in special e non è usata
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact freePhase{
</div>
<div class="Indented">
all c: Car| (c.state.phase = free) iff (c.isAvailable and (c.state.phase!=reserved and c.state.phase!=used and c.state.phase!=charge and c.state.phase!=parkUnsafeOrCharge))// batteria maggiore di 1 non è usata non è in carica
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact parkUnsafePhase{
</div>
<div class="Indented">
all c: Car| (c.state.phase = parkUnsafeOrCharge) iff (!(c.isAvailable)and /*(c.isInSafe or !(c.isInSafe)) and */ (c.state.phase!=reserved and c.state.phase!=used and c.state.phase!=charge and c.state.phase!=free))// posizione è in unsafe e non è usata
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------User things--------------------
</div>
<div class="Indented">
sig User {
</div>
<div class="Indented">
licenseID: Int, //should be an alphanumeric value in the real world
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
licenseID &gt; 0
</div>
<div class="Indented">
}
</div>
<div class="Indented">
//this means that there are not equal users
</div>
<div class="Indented">
fact differentIDUser{
</div>
<div class="Indented">
all u1, u2: User | (u1 != u2) implies (u1.licenseID != u2.licenseID)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact differentUserOnCar{
</div>
<div class="Indented">
all c1,c2: Car| (c1 != c2) implies (c1.state.usedBy != c2.state.usedBy)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------Employee things--------------------
</div>
<div class="Indented">
sig Employee {
</div>
<div class="Indented">
employeeID: Int,
</div>
<div class="Indented">
} {
</div>
<div class="Indented">
employeeID &gt; 0
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact uniqueEmployee{
</div>
<div class="Indented">
all e1,e2: Employee| (e1 != e2) implies (e1.employeeID != e2. employeeID)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------PairOfWorkers things--------------------
</div>
<div class="Indented">
sig PairOfWorkers {
</div>
<div class="Indented">
employees: some Employee
</div>
<div class="Indented">
} {
</div>
<div class="Indented">
#employees = 2
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact uniquePairOfWorkersForEmployee {
</div>
<div class="Indented">
all e :Employee| lone p : PairOfWorkers| ((e in p.employees)) 
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact mapPairOfWorkersOnLists{
</div>
<div class="Indented">
#PairOfWorkers = #List
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact differentPairPerList{
</div>
<div class="Indented">
all l1,l2: List| (l1!=l2) implies (l1.pair!=l2.pair)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
----------------------------------------List things--------------------
</div>
<div class="Indented">
sig List{
</div>
<div class="Indented">
code: Int,
</div>
<div class="Indented">
cars: some Car,
</div>
<div class="Indented">
pair: one PairOfWorkers,
</div>
<div class="Indented">
}{
</div>
<div class="Indented">
code&gt;0
</div>
<div class="Indented">
#cars&gt;0
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact uniqueList{
</div>
<div class="Indented">
all l1,l2: List| (l1!=l2) implies (l1.code!=l2.code)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact phaseOfCarInTheList{
</div>
<div class="Indented">
all c: List.cars| c.state.phase=parkUnsafeOrCharge
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact phaseOfCarInTheList{
</div>
<div class="Indented">
// all c:Car| one l:List| (c.state.phase=parkUnsafeOrCharge) implies (c in l.cars)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact differentList{
</div>
<div class="Indented">
all l1,l2: List| all c: l1.cars| (l1!=l2) implies !(c.isInList[l2])
</div>
<div class="Indented">
}
</div>
<div class="Indented">
fact listConstraints{
</div>
<div class="Indented">
all c:Car| (c.state.phase=parkUnsafeOrCharge) implies (c in List.cars)
</div>
<div class="Indented">
}
</div>
<div class="Indented">
pred show(){
</div>
<div class="Indented">
//some c:Car| c.state.phase=reserved
</div>
<div class="Indented">
//some c:Car| c.state.phase=used
</div>
<div class="Indented">
//some c:Car| c.state.phase=charge
</div>
<div class="Indented">
//some c:Car| c.state.phase=free
</div>
<div class="Indented">
//some c:Car| c.state.phase=parkUnsafeOrCharge
</div>
<div class="Indented">
// l: List| #(l.cars) =2
</div>
<div class="Indented">
}
</div>
<div class="Indented">
run show for 1 but exactly 15 Position, exactly 1 SafeArea, exactly 2 SpecialArea, exactly 7 Car, exactly 7 State, exactly 6 User, exactly 5 Employee, exactly 2 PairOfWorkers, exactly 2 List
</div>
<h1 class="Section">
<a class="toc" name="toc-Section-5">5</a> Appendices
</h1>

</div>
</body>
</html>
